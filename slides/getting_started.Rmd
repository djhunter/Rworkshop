---
title: "Getting Started using R"
date: "May 6, 2019"
output: 
  revealjs::revealjs_presentation:
    fig_width: 14
    fig_height: 7
    self_contained: true
    theme: black
    highlight: zenburn
    css: slidesdjh.css
    center: false
    transition: slide
    reveal_options:
      controls: true
      progress: false
      width: 1080
      height: 600
---

# *Getting Started with R* {data-background="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/R_logo.svg/724px-R_logo.svg.png" data-background-size="contain"}

## Why R?

>- Reproducibility
>- Powerful
>- Very deep community of support
>- Free (*gratis*)
>- Free (*libre*)

## Overview

>- Commands in the console
>- Vectors
>- Data Frames
>- Workflow
>     - Scripts
>     - RMarkdown notebooks
>- By the end of this lesson, you should be able to do some simple data analysis in R and compose an HTML email with the results.

## Workshop materials

Everything is posted at: https://djhunter.github.io/Rworkshop

Slides can be viewed on any web browser. Keyboard shortcuts:

| shortcut | result |
| --- | --- |
| o | Toggle Overview mode (see all the slides) |
| f | Enter fullscreen mode | 
| ESC | Exit fullscreen mode |
| space | next slide |
| arrows | navigate up/down/left/right |
| ? | See other shortcuts |

The **$\Rightarrow$** symbol indicates something for you to do.

# *RStudio Interface* {data-background="https://d33wubrfki0l68.cloudfront.net/acfa849636e78c5bfa9637ddf6c0cee58a4e49e0/d198a/images/2017-08-30-rstudio-dark-theme-plots.png"}

## {data-background="https://info201.github.io/img/r-intro/rstudio-interface.png" data-background-size="contain"}

# *The Console* {data-background="https://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/Digital_rain_animation_medium_letters_shine.gif/220px-Digital_rain_animation_medium_letters_shine.gif"}

## Use R Interactively 

In the console window, you can type commands and get answers. R understands basic arithmetic.

```{r}
2+2
```

**$\Rightarrow$** Try some basic arithmetic commands in the console window. 

## Vectors

- Often you want to deal with several numbers at once.
- The `c( )` operator *combines* its contents into a *vector*.

```{r}
c(2,4,6,2,10)
c(2,4,6,2,10) + c(10, 20, 30, 40, 50)
c(2,4,6,2,10) * 1000
```

## Variables

- Often you want to save a vector so you can reuse it.
- The assignment operator `<-` saves a variable.

```{r}
joe <- c(2,4,6,2,10)
joe^2
sum(joe)
mean(joe)
```

## Practice with variables

**$\Rightarrow$** Use the console to compute 
$$\frac{1}{2^2} + \frac{1}{3^2} + \frac{1}{4^2} + \frac{1}{5^2} +\frac{1}{6^2} +\frac{1}{7^2} +\frac{1}{8^2} +\frac{1}{9^2}  + \frac{1}{10^2}.$$ 
Start by assigning `c(2,3,4,5,6,7,8,9,10)` to a variable with a name you make up.

# *Workflow* {data-background="https://i.giphy.com/media/iOF7iSG4CBC92/200w.webp" data-background-size="contain"}

## Saving your work

Two ways to save your work:

>- R Scripts (`foo.R` files)
>     - Simple, universal
>- RMarkdown documents (`foo.Rmd` files)
>     - Combinations of scripts and other text
>     - Can be exported (HTML, slides, PDF, etc)
>- Workflow 
>     - Experiment in console
>     - Save what worked as R Scripts or RMarkdown documents

## {data-background="https://info201.github.io/img/r-intro/rstudio-interface.png" data-background-size="contain"}

## Make an R Script

**$\Rightarrow$** Follow the steps below to save your work from the last exercise.

1. Click on the *History* tab in the upper-right pane. Locate the lines of code that successfully computed the sum $\frac{1}{2^2} + \frac{1}{3^2} + \cdots + \frac{1}{10^2}$. 
2. In the *File* menu, choose *New File > R Script*.
3. Click on the lines you located in #1, and click the *$\Leftarrow$ To Source* button. 
4. Save your script to a file with a location and name you will remember. The file name should end in `.R`.
5. Test your script by clicking the *$\Rightarrow$  Source* button in the upper-left pane. The contents should execute in the console.

## Update your script

You can define a sequence of numbers using the `:` operator.

```{r}
2:10
```

**$\Rightarrow$** Update your script so it computes $\frac{1}{2^2} + \frac{1}{3^2} + \cdots + \frac{1}{1000000^2}$. (Compare the answer to $\pi^2/6-1$.)

## RMarkdown Documents

RMarkdown Documents allow for 

- text next to code (notes, etc)
- various output formats (e.g., these slides)

## **$\Rightarrow$** Make an RMarkdown Document

1. In the *File* menu, choose *New File > RMarkdown...*.
2. In the "New R Markdown" dialog box, give the document a title. Keep the other default settings (Document, HTML).
3. Clicking OK will open a new RMarkdown document with some boilerplate code. *Delete* everything below line 7. 
4. *Save* the file to a location and name you will remember. The file name should end in `.Rmd`.

## **$\Rightarrow$** Add a code chunk, text, and Knit

5. Click on the *$^+C$ Insert* button, and choose *R* from the drop down menu. Inside the code chunk that appears, enter your code from the script you wrote. You can execute this code using the *$\rhd$* button in the corner of the chunk.
6. Add some text above and below the code chunk. These can be notes to yourself explaining what you just did. 
7. Try clicking the *Knit* button. If it asks you to install some packages, say "yes".

## What happens when you knit?

- Your RMarkdown file gets saved.
- Every code chunk gets executed in a *new* environment.
- An output file gets "knitted" together.
- The output file gets displayed.

# *Variables and Data Frames* {data-background="https://cdn-images-1.medium.com/fit/t/1600/480/0*Uw37vrrKzeEWahdB" data-background-size="contain"}

## Data Frames in R

- The basic form of data. Think spreadsheet.
- Columns have the same length, but can be different types.
- One row per observational unit.

## Built-in data sets: `iris`

```{r}
data("iris")
iris
```

## Quick summary

```{r}
summary(iris)
```

## Columns are vectors

Use the `$` operator to return the columns of a data frame.

```{r}
iris$Sepal.Length
```

## Columns are vectors

Use the `$` operator to return the columns of a data frame.

```{r}
iris$Species
```

## Quick box plots

```{r, fig.align='center', fig.width=8, fig.height=4.2}
boxplot(iris)
```

## Selecting rows and columns

```{r}
iris[1:6,1:4]
```

## Selecting rows

```{r}
iris[1:6,]
```

## Selecting columns

```{r}
iris[,1:4]
```

## Selecting noncontiguous columns

```{r}
iris[,c(2,4)]
```

## Quick Scatterplot

```{r, fig.align='center', fig.width=7, fig.height=4.2}
plot(iris[,c(2,4)])
```


# *Explore Some data* {data-background="https://i.giphy.com/media/l2R0e9y6A304JkFOg/giphy.webp" data-background-size="contain"}

## **$\Rightarrow$** Write a report

**$\Rightarrow$** [Load](#/built-in-data-sets-iris) the `mtcars` data set. Type `?mtcars` in the console to see a description of this data set. [Create a new RMarkdown file](#/rightarrow-make-an-rmarkdown-document) in which you [calculate a summary](#/quick-summary) of this data, and [plot a scatterplot](#/quick-scatterplot) of two of the variables. [Add a description](#/rightarrow-add-a-code-chunk-text-and-knit) in your RMarkdown document of what the scatter plot tells you. When your report is finished, [Knit it to HTML](#/rightarrow-add-a-code-chunk-text-and-knit). Then copy and paste the HTML output into an email and send it to yourself.

*Hint:* Links in the above paragraph will scroll to the relevant slides. Use the arrow keys to get back.


